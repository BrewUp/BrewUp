@inherits PubsBase
@page "/pubs"

@using MudBlazor
@using BrewUpWasm.Modules.Pubs.Extensions.JsonModel

<PageTitle>Pubs</PageTitle>

<MudPaper Elevation="25">
	<MudToolBar>
		<MudTooltip Text="Order Beer to Production">
			<MudIconButton Icon="@Icons.Material.Outlined.Add" OnClick="OnBrewBeerClick"/>
		</MudTooltip>
		<MudTooltip Text="Available Beer for Grottino">
			<MudIconButton Icon="@Icons.Material.Outlined.AccountBalance" OnClick="LoadBeersForGrottinoAsync"/>
		</MudTooltip>
		<MudTooltip Text="Available Beer for Fraschetta">
			<MudIconButton Icon="@Icons.Material.Outlined.AccessTime" OnClick="LoadBeersForFraschettaAsync"/>
		</MudTooltip>
		<MudTooltip Text="Drink a Beer">
			<MudIconButton Icon="@Icons.Material.Outlined.AddReaction" OnClick="OnDrinkABeerClick"/>
		</MudTooltip>
	</MudToolBar>
</MudPaper>

<MudTable Items="@AvailableBeers" Hover="true" Breakpoint="Breakpoint.Sm" @ref="MudTable" RowClassFunc="@SelectedRowClassFunc" OnRowClick="RowClickEvent" T="BeerJson">
	<HeaderContent>
		<MudTh>Pub</MudTh>
		<MudTh>Beer</MudTh>
		<MudTh>Quantity</MudTh>
	</HeaderContent>
	<RowTemplate>
		<MudTd DataLabel="Pub">@context.PubName</MudTd>
		<MudTd DataLabel="Beer">@context.BeerType</MudTd>
		<MudTd DataLabel="Quantity">@context.Quantity</MudTd>
	</RowTemplate>
</MudTable>
